(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],{181:function(e,t,a){},182:function(e,t,a){},302:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(0),c=a(8),i=a.n(c),u=(a(181),a(182),a(27)),o=a.n(u),j=a(69),s=a(9),l=a(53),b=a(107),O=a(16),d=a.n(O),f=a(149),p=a.n(f),v=a(15),h=a(349),x=a(303),m=a(350),g=a(347),y=a(346),E=a(352),w=a(336),S=a(95),T=a.n(S),k=a(158),C=a.n(k),D=a(29),V=a(30),Y=a(332),W=a(342),M="#add8e6";function _(){var e=Object(D.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  width: 50px;\n  margin: 20px 0 20px 0;\n"]);return _=function(){return e},e}function N(){var e=Object(D.a)(["\n  padding-left: 18px;\n"]);return N=function(){return e},e}function A(){var e=Object(D.a)(["\n  margin-top: 20px;\n  margin-bottom: 30px;\n  display: flex;\n  gap: 10px;\n"]);return A=function(){return e},e}function I(){var e=Object(D.a)(["\n  width: 35vw;\n"]);return I=function(){return e},e}var F=Object(V.a)(Y.a)(I()),H=Object(V.a)(w.a)(A()),J=Object(V.a)(g.a)(N()),L=Object(V.a)(W.a)(_(),M),U=a(343);function z(){var e=Object(D.a)(["\n  display: flex;\n  margin: 20px 0 10px 20px;\n  align-items: center;\n"]);return z=function(){return e},e}function B(){var e=Object(D.a)([""]);return B=function(){return e},e}var P=Object(V.a)(U.a)(B()),R=V.a.div(z()),q=a(28),G=a(55),K=a.n(G),Q="NEW_EVENT",X="SET_EDIT_EVENT",Z="UPDATE_EVENT",$="DELETE_EVENT",ee="SET_EVENTS",te=function(e){var t=e.date.split("-"),a=Object(v.a)(t,3),n=a[0],r=a[1],c=a[2],i=e.start.split(":"),u=Object(v.a)(i,2),o=u[0],j=u[1],s=e.end.split(":"),l=Object(v.a)(s,2),b=l[0],O=l[1];return{title:e.title,start:new Date(n,r-1,c,o,j),end:new Date(n,r-1,c,b,O),id:e._id}},ae=function(e,t){return function(){var a=Object(l.a)(o.a.mark((function a(n){var r,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,K.a.put("/events/".concat(e),t);case 3:r=a.sent,c=te(r.data),n({type:Z,payload:{event:c,id:e}}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.error(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},ne=function(e){return function(t){t({type:X,payload:e})}},re=function(e,t){if("pm"===t){var a=e.split(":"),n=Object(v.a)(a,2),r=n[0],c=n[1],i=parseInt(r);12!==i&&(e="".concat((i+=12).toString(),":").concat(c))}else{var u=e.split(":"),o=Object(v.a)(u,2),j=o[0],s=o[1],l=parseInt(j);12===l&&(e="".concat((l-=12).toString(),":").concat(s))}return e},ce=function(e){return d()(e,"h:mm").isValid()},ie=function(e){var t=e.title,a=e.start,n=e.end,r=e.date,c={};return t&&0!==t.trim().length?t.length>20&&(c=Object(s.a)(Object(s.a)({},c),{},{title:"Title too long"})):c=Object(s.a)(Object(s.a)({},c),{},{title:"Title cannot be empty"}),ce(a)||(c=Object(s.a)(Object(s.a)({},c),{},{start:"Start time is not valid"})),ce(n)||(c=Object(s.a)(Object(s.a)({},c),{},{end:"End time is not valid"})),ce(a)&&ce(n)&&d()(a,"h:mm").isAfter(d()(n,"h:mm"))&&(c=Object(s.a)(Object(s.a)({},c),{},{start:"Start time must be ealier than finish time"})),d()(r).isValid()||(c=Object(s.a)(Object(s.a)({},c),{},{date:"Date is not valid"})),c},ue=function(){var e=Object(r.useState)(""),t=Object(v.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)(""),u=Object(v.a)(i,2),j=u[0],b=u[1],O=Object(r.useState)(""),f=Object(v.a)(O,2),p=f[0],S=f[1],k=Object(r.useState)(""),D=Object(v.a)(k,2),V=D[0],Y=D[1],W=Object(r.useState)(""),M=Object(v.a)(W,2),_=M[0],N=M[1],A=Object(r.useState)(""),I=Object(v.a)(A,2),U=I[0],z=I[1],B=Object(r.useState)({}),G=Object(v.a)(B,2),Q=G[0],X=G[1],Z=Object(q.c)((function(e){return e.editEvent})),ee=Object(q.b)();Object(r.useEffect)((function(){c(d()(Z.start).format("YYYY-MM-DD")),b(d()(Z.start).format("h:mm")),S(d()(Z.end).format("h:mm")),Y(d()(Z.start).format("a")),N(d()(Z.end).format("a")),z(Z.title)}),[Z]);var te=function(){ee(ne({}))};return Object(n.jsxs)(h.a,{open:!!Z&&!!Z.start,onClose:te,children:[Object(n.jsxs)(R,{children:[Object(n.jsx)(x.a,{variant:"h5",children:"Edit your event"}),Object(n.jsx)(m.a,{title:"Delete event",arrow:!0,placement:"top",children:Object(n.jsx)(P,{onClick:function(){var e;ee((e=Z.id,function(){var t=Object(l.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K.a.delete("/events/".concat(e));case 3:a({type:$,payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0.response.data);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}())),te()},children:Object(n.jsx)(C.a,{})})})]}),Object(n.jsx)(F,{children:Object(n.jsx)(J,{value:U,onChange:function(e){X(Object(s.a)(Object(s.a)({},Q),{},{title:""})),z(e.target.value)},error:!!Q.title,helperText:Q.title})}),Object(n.jsxs)(H,{children:[Object(n.jsx)(T.a,{}),Object(n.jsx)(g.a,{defaultValue:a,fullWidth:!0,onChange:function(e){X(Object(s.a)(Object(s.a)({},Q),{},{date:""})),c(e.target.value)},error:!!Q.date,helperText:Q.date}),Object(n.jsx)(g.a,{defaultValue:j,fullWidth:!0,onChange:function(e){X(Object(s.a)(Object(s.a)({},Q),{},{start:""})),b(e.target.value)},error:!!Q.start,helperText:Q.start}),Object(n.jsxs)(y.a,{value:V,onChange:function(e){Y(e.target.value)},children:[Object(n.jsx)(E.a,{value:"am",children:"am"}),Object(n.jsx)(E.a,{value:"pm",children:"pm"})]}),Object(n.jsx)(x.a,{children:"\u2014"}),Object(n.jsx)(g.a,{defaultValue:p,fullWidth:!0,onChange:function(e){X(Object(s.a)(Object(s.a)({},Q),{},{end:""})),S(e.target.value)},error:!!Q.end,helperText:Q.end}),Object(n.jsxs)(y.a,{value:_,onChange:function(e){N(e.target.value)},children:[Object(n.jsx)(E.a,{value:"am",children:"am"}),Object(n.jsx)(E.a,{value:"pm",children:"pm"})]})]}),Object(n.jsx)(w.a,{children:Object(n.jsx)(L,{onClick:function(){var e=re(j,V),t=re(p,_),n={title:U,start:e,end:t,date:a},r=ie(n);X(r),r.start||r.end||r.date||r.title||(ee(ae(Z.id,n)),te())},children:"Save"})})]})},oe=(a(301),p()(b.a)),je=Object(b.b)(d.a),se=function(){var e=Object(q.c)((function(e){return e.events})),t=Object(q.c)((function(e){return e.editEvent})),a=Object(q.b)();Object(r.useEffect)((function(){a(function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.get("/events");case 3:a=e.sent,n=a.data.map((function(e){return te(e)})),t({type:ee,payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[a]);var c=function(){var t=Object(l.a)(o.a.mark((function t(n){var r,c,i,u,l,b,O,f,p;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.event,c=n.start,i=n.end,u=e.indexOf(r),l=Object(s.a)(Object(s.a)({},r),{},{start:c,end:i}),Object(j.a)(e).splice(u,1,l);try{b=r.id,O=d()(c).format("YYYY-MM-DD"),f=d()(c).format("H:mm"),p=d()(i).format("H:mm"),a(ae(b,{date:O,start:f,end:p}))}catch(o){console.error(o)}case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[Object(n.jsx)(oe,{localizer:je,events:e,onSelectEvent:function(e,t){a(ne(e))},onEventDrop:c,defaultView:"week",views:["week","day"]}),Object(n.jsx)(ue,{event:t})]})},le=a(159),be=a.n(le);function Oe(){var e=Object(D.a)(["\n  background: ",";\n  width: 60px;\n  height: 60px;\n  &:hover {\n    opacity: 0.8;\n    background: ",";\n  }\n"]);return Oe=function(){return e},e}function de(){var e=Object(D.a)(["\n  position: fixed;\n  bottom: 7vh;\n  right: 5vw;\n"]);return de=function(){return e},e}var fe=V.a.div(de()),pe=Object(V.a)(U.a)(Oe(),M,M),ve=function(){var e=Object(r.useState)(!1),t=Object(v.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)(""),u=Object(v.a)(i,2),j=u[0],b=u[1],O=Object(r.useState)(""),f=Object(v.a)(O,2),p=f[0],S=f[1],k=Object(r.useState)(""),C=Object(v.a)(k,2),D=C[0],V=C[1],Y=Object(r.useState)(""),W=Object(v.a)(Y,2),M=W[0],_=W[1],N=Object(r.useState)(""),A=Object(v.a)(N,2),I=A[0],U=A[1],z=Object(r.useState)(""),B=Object(v.a)(z,2),P=B[0],R=B[1],G=Object(r.useState)({}),X=Object(v.a)(G,2),Z=X[0],$=X[1],ee=Object(q.b)();Object(r.useEffect)((function(){b(d()().format("YYYY-MM-DD")),S(d()().format("h:mm")),V(d()().format("h:mm")),_(d()().format("a")),U(d()().format("a"))}),[]);var ae=function(){c(!1),$({})};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(fe,{children:Object(n.jsx)(m.a,{title:"Add a new event!",arrow:!0,placement:"top",children:Object(n.jsx)(pe,{onClick:function(){c(!0)},children:Object(n.jsx)(be.a,{})})})}),Object(n.jsxs)(h.a,{open:a,onClose:ae,children:[Object(n.jsx)(F,{children:Object(n.jsx)(J,{placeholder:"Add Title",onChange:function(e){$(Object(s.a)(Object(s.a)({},Z),{},{title:""})),R(e.target.value)},error:!!Z.title,helperText:Z.title})}),Object(n.jsxs)(H,{children:[Object(n.jsx)(T.a,{}),Object(n.jsx)(g.a,{defaultValue:j,fullWidth:!0,onChange:function(e){$(Object(s.a)(Object(s.a)({},Z),{},{date:""})),b(e.target.value)},error:!!Z.date,helperText:Z.date}),Object(n.jsx)(g.a,{defaultValue:p,fullWidth:!0,onChange:function(e){$(Object(s.a)(Object(s.a)({},Z),{},{start:""})),S(e.target.value)},error:!!Z.start,helperText:Z.start}),Object(n.jsxs)(y.a,{value:M,onChange:function(e){_(e.target.value)},children:[Object(n.jsx)(E.a,{value:"am",children:"am"}),Object(n.jsx)(E.a,{value:"pm",children:"pm"})]}),Object(n.jsx)(x.a,{children:"\u2014"}),Object(n.jsx)(g.a,{defaultValue:D,fullWidth:!0,onChange:function(e){$(Object(s.a)(Object(s.a)({},Z),{},{end:""})),V(e.target.value)},error:!!Z.end,helperText:Z.end}),Object(n.jsxs)(y.a,{value:I,onChange:function(e){U(e.target.value)},children:[Object(n.jsx)(E.a,{value:"am",children:"am"}),Object(n.jsx)(E.a,{value:"pm",children:"pm"})]})]}),Object(n.jsx)(w.a,{children:Object(n.jsx)(L,{onClick:function(){var e=re(p,M),t=re(D,I),a={title:P,start:e,end:t,date:j},n=ie(a);$(n),n.start||n.end||n.date||n.title||(ee(function(e){return function(){var t=Object(l.a)(o.a.mark((function t(a){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K.a.post("/events",e);case 3:n=t.sent,r=te(n.data),a({type:Q,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(a)),ae())},children:"Save"})})]})]})},he=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(se,{}),Object(n.jsx)(ve,{})]})},xe=a(345),me=a(344),ge=a(163),ye=a(160),Ee=a.n(ye),we=Object(ge.a)({palette:{primary:{main:Ee.a[500],contrastText:"#fff"}},typography:{fontFamily:"verdana, arial, helvetica, sans-serif"}}),Se=a(59),Te=a(161),ke=a(162),Ce={editEvent:{},events:[]},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(s.a)(Object(s.a)({},e),{},{events:t.payload});case Q:return Object(s.a)(Object(s.a)({},e),{},{events:[t.payload].concat(Object(j.a)(e.events))});case $:var a=t.payload,n=e.events.filter((function(e){return e.id!==a}));return Object(s.a)(Object(s.a)({},e),{},{events:n});case Z:var r=t.payload.id,c=e.events.filter((function(e){return e.id!==r}));return Object(s.a)(Object(s.a)({},e),{},{events:[].concat(Object(j.a)(c),[t.payload.event])});case X:return Object(s.a)(Object(s.a)({},e),{},{editEvent:t.payload});default:return e}},Ve=Object(Se.createStore)(De,Object(Te.composeWithDevTools)(Object(Se.applyMiddleware)(ke.a)));K.a.defaults.baseURL="https://whispering-crag-05145.herokuapp.com/";var Ye=function(){return Object(n.jsx)(xe.b,{injectFirst:!0,children:Object(n.jsx)(me.a,{theme:we,children:Object(n.jsx)(q.a,{store:Ve,children:Object(n.jsx)(he,{})})})})};i.a.render(Object(n.jsx)(Ye,{}),document.getElementById("root"))}},[[302,1,2]]]);
//# sourceMappingURL=main.c871ae9e.chunk.js.map